2025-10-03 15:01:32.871 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-03 15:01:32.918 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-03 15:01:32.945 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-03 15:01:33.000 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-03 15:01:33.015 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-03 15:01:33.019 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-03 15:01:33.054 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-03 15:01:33.064 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-03 15:01:33.070 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-03 15:01:33.345 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:01:33.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:01:33.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:01:33.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:01:33.398 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:01:33.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Departments] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:01:33.453 +03:00 [INF] User profile is available. Using 'C:\Users\mamad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 15:01:33.471 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__adminEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__adminEmail_0
2025-10-03 15:01:33.677 +03:00 [INF] Now listening on: http://localhost:5007
2025-10-03 15:01:33.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 15:01:33.723 +03:00 [INF] Hosting environment: Development
2025-10-03 15:01:33.723 +03:00 [INF] Content root path: C:\Users\mamad\source\repos\AIMIS\Interchée\backend\Interchée
2025-10-03 15:02:31.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/scalar/v1 - null null
2025-10-03 15:02:31.278 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 15:02:31.354 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-03 15:02:31.445 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2025-10-03 15:02:31.472 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-03 15:02:31.479 +03:00 [INF] HTTP GET /scalar/v1 responded 200 in 196.1504 ms
2025-10-03 15:02:31.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/scalar/v1 - 200 null text/html 361.0093ms
2025-10-03 15:02:31.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/scalar/scalar.aspnetcore.js - null null
2025-10-03 15:02:31.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/_vs/browserLink - null null
2025-10-03 15:02:31.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/_framework/aspnetcore-browser-refresh.js - null null
2025-10-03 15:02:31.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/scalar/scalar.js - null null
2025-10-03 15:02:31.605 +03:00 [INF] CORS policy execution failed.
2025-10-03 15:02:31.609 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 55.6954ms
2025-10-03 15:02:31.610 +03:00 [INF] Request origin http://localhost:5007 does not have permission to access the resource.
2025-10-03 15:02:31.609 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2025-10-03 15:02:31.724 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-10-03 15:02:31.739 +03:00 [INF] Sending file with download name ''.
2025-10-03 15:02:31.739 +03:00 [INF] Sending file with download name ''.
2025-10-03 15:02:31.746 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-10-03 15:02:31.747 +03:00 [INF] HTTP GET /scalar/scalar.aspnetcore.js responded 200 in 188.3750 ms
2025-10-03 15:02:31.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/_vs/browserLink - 200 null text/javascript; charset=UTF-8 241.3971ms
2025-10-03 15:02:31.756 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/scalar/scalar.aspnetcore.js - 200 1046 text/javascript 250.5929ms
2025-10-03 15:02:31.773 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2025-10-03 15:02:31.774 +03:00 [INF] HTTP GET /scalar/scalar.js responded 200 in 165.6418 ms
2025-10-03 15:02:31.785 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/scalar/scalar.js - 200 869947 text/javascript 230.4681ms
2025-10-03 15:02:31.922 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/openapi/v1.json - null null
2025-10-03 15:02:31.927 +03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-03 15:02:32.168 +03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-03 15:02:32.169 +03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 242.2987 ms
2025-10-03 15:02:32.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/openapi/v1.json - null null
2025-10-03 15:02:32.175 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/openapi/v1.json - 200 null application/json;charset=utf-8 252.8837ms
2025-10-03 15:02:32.179 +03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-03 15:02:32.207 +03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-03 15:02:32.209 +03:00 [INF] HTTP GET /openapi/v1.json responded 200 in 30.1395 ms
2025-10-03 15:02:32.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/openapi/v1.json - 200 null application/json;charset=utf-8 41.203ms
2025-10-03 15:04:26.391 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5007/auth/login - application/json 63
2025-10-03 15:04:26.396 +03:00 [INF] Executing endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:04:26.427 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Auth.AuthResultDto]] Login(Interchée.Contracts.Auth.LoginDto) on controller Interchée.Controllers.AuthController (Interchée).
2025-10-03 15:04:26.490 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 15:04:26.628 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-03 15:04:26.783 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__now_2='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[RevokedAt] = @__now_2
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[RevokedAt] IS NULL AND [r].[ExpiresAt] > @__now_1
2025-10-03 15:04:27.162 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 512), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedByIp], [ExpiresAt], [RevokedAt], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-03 15:04:27.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Auth.AuthResultDto'.
2025-10-03 15:04:27.192 +03:00 [INF] Executed action Interchée.Controllers.AuthController.Login (Interchée) in 758.8605ms
2025-10-03 15:04:27.193 +03:00 [INF] Executed endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:04:27.195 +03:00 [INF] HTTP POST /auth/login responded 200 in 799.5995 ms
2025-10-03 15:04:27.203 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5007/auth/login - 200 null application/json; charset=utf-8 811.9246ms
2025-10-03 15:08:53.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/departments/1 - null null
2025-10-03 15:08:54.067 +03:00 [INF] Executing endpoint 'Interchée.Controllers.DepartmentsController.GetById (Interchée)'
2025-10-03 15:08:54.083 +03:00 [INF] Route matched with {action = "GetById", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Departments.DepartmentReadDto]] GetById(Int32) on controller Interchée.Controllers.DepartmentsController (Interchée).
2025-10-03 15:08:54.206 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Code], [d].[IsActive], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2025-10-03 15:08:54.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Departments.DepartmentReadDto'.
2025-10-03 15:08:54.222 +03:00 [INF] Executed action Interchée.Controllers.DepartmentsController.GetById (Interchée) in 136.1155ms
2025-10-03 15:08:54.223 +03:00 [INF] Executed endpoint 'Interchée.Controllers.DepartmentsController.GetById (Interchée)'
2025-10-03 15:08:54.224 +03:00 [INF] HTTP GET /departments/1 responded 200 in 228.1553 ms
2025-10-03 15:08:54.226 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/departments/1 - 200 null application/json; charset=utf-8 261.1795ms
2025-10-03 15:09:36.228 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5007/departments/1 - application/json 50
2025-10-03 15:09:36.233 +03:00 [INF] CORS policy execution failed.
2025-10-03 15:09:36.236 +03:00 [INF] Request origin http://localhost:5007 does not have permission to access the resource.
2025-10-03 15:09:36.255 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|HR)
2025-10-03 15:09:36.270 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-03 15:09:36.271 +03:00 [INF] HTTP PUT /departments/1 responded 401 in 38.0614 ms
2025-10-03 15:09:36.273 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5007/departments/1 - 401 0 null 45.0026ms
2025-10-03 15:09:50.358 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5007/departments/1 - application/json 50
2025-10-03 15:09:50.366 +03:00 [INF] CORS policy execution failed.
2025-10-03 15:09:50.367 +03:00 [INF] Request origin http://localhost:5007 does not have permission to access the resource.
2025-10-03 15:09:50.375 +03:00 [INF] Executing endpoint 'Interchée.Controllers.DepartmentsController.Update (Interchée)'
2025-10-03 15:09:50.382 +03:00 [INF] Route matched with {action = "Update", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Departments.DepartmentReadDto]] Update(Int32, Interchée.Contracts.Departments.DepartmentUpdateDto) on controller Interchée.Controllers.DepartmentsController (Interchée).
2025-10-03 15:09:50.402 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Code], [d].[IsActive], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[Id] = @__id_0
2025-10-03 15:09:50.449 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32), @__dto_Name_1='?' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Departments] AS [d]
        WHERE [d].[Id] <> @__id_0 AND [d].[Name] = @__dto_Name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:09:50.503 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-03 15:09:50.508 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Departments.DepartmentReadDto'.
2025-10-03 15:09:50.509 +03:00 [INF] Executed action Interchée.Controllers.DepartmentsController.Update (Interchée) in 122.9209ms
2025-10-03 15:09:50.510 +03:00 [INF] Executed endpoint 'Interchée.Controllers.DepartmentsController.Update (Interchée)'
2025-10-03 15:09:50.512 +03:00 [INF] HTTP PUT /departments/1 responded 200 in 145.2656 ms
2025-10-03 15:09:50.514 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5007/departments/1 - 200 null application/json; charset=utf-8 155.9915ms
2025-10-03 15:10:29.312 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/users - null null
2025-10-03 15:10:29.331 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|HR)
2025-10-03 15:10:29.338 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-03 15:10:29.340 +03:00 [INF] HTTP GET /users responded 401 in 13.9839 ms
2025-10-03 15:10:29.344 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/users - 401 0 null 31.618ms
2025-10-03 15:10:42.173 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/users - null null
2025-10-03 15:10:42.180 +03:00 [INF] Executing endpoint 'Interchée.Controllers.UsersController.GetAll (Interchée)'
2025-10-03 15:10:42.183 +03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Interchée.Contracts.Users.UserSummaryDto]]] GetAll(System.Nullable`1[System.Int32], System.String) on controller Interchée.Controllers.UsersController (Interchée).
2025-10-03 15:10:42.200 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[IsActive], [a].[FirstName], [a].[LastName], [a].[MiddleName]
FROM [AspNetUsers] AS [a]
2025-10-03 15:10:42.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Interchée.Contracts.Users.UserSummaryDto, Interchée, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-03 15:10:42.208 +03:00 [INF] Executed action Interchée.Controllers.UsersController.GetAll (Interchée) in 23.7722ms
2025-10-03 15:10:42.210 +03:00 [INF] Executed endpoint 'Interchée.Controllers.UsersController.GetAll (Interchée)'
2025-10-03 15:10:42.211 +03:00 [INF] HTTP GET /users responded 200 in 31.8878 ms
2025-10-03 15:10:42.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/users - 200 null application/json; charset=utf-8 40.1268ms
2025-10-03 15:11:42.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5007/onboarding-requests - null null
2025-10-03 15:11:42.326 +03:00 [INF] Executing endpoint 'Interchée.Controllers.OnboardingRequestsController.GetAll (Interchée)'
2025-10-03 15:11:42.329 +03:00 [INF] Route matched with {action = "GetAll", controller = "OnboardingRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Interchée.Contracts.Onboarding.OnboardingRequestReadDto]]] GetAll(System.String, System.Nullable`1[System.Int32]) on controller Interchée.Controllers.OnboardingRequestsController (Interchée).
2025-10-03 15:11:42.500 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApprovedAt], [o].[ApprovedByUserId], [o].[DepartmentId], [o].[Email], [o].[FirstName], [o].[FullName], [o].[LastName], [o].[MiddleName], [o].[RequestedAt], [o].[Status]
FROM [OnboardingRequests] AS [o]
ORDER BY [o].[RequestedAt] DESC
2025-10-03 15:11:42.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__candidate_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__candidate_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:11:42.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__candidate_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__candidate_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:11:42.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__candidate_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = @__candidate_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:11:42.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Interchée.Contracts.Onboarding.OnboardingRequestReadDto, Interchée, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-03 15:11:42.538 +03:00 [INF] Executed action Interchée.Controllers.OnboardingRequestsController.GetAll (Interchée) in 207.9477ms
2025-10-03 15:11:42.540 +03:00 [INF] Executed endpoint 'Interchée.Controllers.OnboardingRequestsController.GetAll (Interchée)'
2025-10-03 15:11:42.541 +03:00 [INF] HTTP GET /onboarding-requests responded 200 in 215.3074 ms
2025-10-03 15:11:42.542 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5007/onboarding-requests - 200 null application/json; charset=utf-8 218.146ms
2025-10-03 15:31:56.605 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-03 15:31:56.644 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-03 15:31:56.679 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-03 15:31:56.727 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-03 15:31:56.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-03 15:31:56.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-03 15:31:56.766 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-03 15:31:56.775 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-03 15:31:56.784 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-03 15:31:56.962 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:31:57.005 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:31:57.015 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:31:57.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:31:57.034 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-03 15:31:57.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Departments] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-03 15:31:57.080 +03:00 [INF] User profile is available. Using 'C:\Users\mamad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-03 15:31:57.095 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__adminEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__adminEmail_0
2025-10-03 15:31:57.251 +03:00 [INF] Now listening on: http://localhost:5007
2025-10-03 15:31:57.278 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-03 15:31:57.282 +03:00 [INF] Hosting environment: Development
2025-10-03 15:31:57.287 +03:00 [INF] Content root path: C:\Users\mamad\source\repos\AIMIS\Interchée\backend\Interchée
2025-10-03 15:38:38.889 +03:00 [INF] Request starting HTTP/1.1 GET http://lorrie-unoperative-corrine.ngrok-free.dev/ - null null
2025-10-03 15:38:38.994 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-03 15:38:39.051 +03:00 [INF] HTTP GET / responded 404 in 57.9798 ms
2025-10-03 15:38:39.067 +03:00 [INF] Request finished HTTP/1.1 GET http://lorrie-unoperative-corrine.ngrok-free.dev/ - 404 0 null 180.0321ms
2025-10-03 15:38:39.074 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://lorrie-unoperative-corrine.ngrok-free.dev/, Response status code: 404
2025-10-03 15:46:36.168 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - null null
2025-10-03 15:46:36.185 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:46:36.187 +03:00 [INF] HTTP OPTIONS /auth/login responded 204 in 8.7067 ms
2025-10-03 15:46:36.191 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 204 null null 22.5175ms
2025-10-03 15:46:36.792 +03:00 [INF] Request starting HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - application/json 51
2025-10-03 15:46:36.812 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:46:36.817 +03:00 [INF] Executing endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:46:36.840 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Auth.AuthResultDto]] Login(Interchée.Contracts.Auth.LoginDto) on controller Interchée.Controllers.AuthController (Interchée).
2025-10-03 15:46:36.905 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 15:46:37.008 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-03 15:46:37.113 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__now_2='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[RevokedAt] = @__now_2
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[RevokedAt] IS NULL AND [r].[ExpiresAt] > @__now_1
2025-10-03 15:46:37.203 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 512), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedByIp], [ExpiresAt], [RevokedAt], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-03 15:46:37.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Auth.AuthResultDto'.
2025-10-03 15:46:37.272 +03:00 [INF] Executed action Interchée.Controllers.AuthController.Login (Interchée) in 421.8637ms
2025-10-03 15:46:37.279 +03:00 [INF] Executed endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:46:37.282 +03:00 [INF] HTTP POST /auth/login responded 200 in 470.8489 ms
2025-10-03 15:46:37.289 +03:00 [INF] Request finished HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 200 null application/json; charset=utf-8 496.8639ms
2025-10-03 15:50:17.124 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - null null
2025-10-03 15:50:17.128 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:50:17.130 +03:00 [INF] HTTP OPTIONS /auth/login responded 204 in 1.5636 ms
2025-10-03 15:50:17.131 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 204 null null 7.797ms
2025-10-03 15:50:17.597 +03:00 [INF] Request starting HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - application/json 51
2025-10-03 15:50:17.602 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:50:17.605 +03:00 [INF] Executing endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:50:17.608 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Auth.AuthResultDto]] Login(Interchée.Contracts.Auth.LoginDto) on controller Interchée.Controllers.AuthController (Interchée).
2025-10-03 15:50:17.691 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 15:50:17.749 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-03 15:50:17.758 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_2='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[RevokedAt] = @__now_2
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[RevokedAt] IS NULL AND [r].[ExpiresAt] > @__now_1
2025-10-03 15:50:17.767 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 512), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedByIp], [ExpiresAt], [RevokedAt], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-03 15:50:17.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Auth.AuthResultDto'.
2025-10-03 15:50:17.770 +03:00 [INF] Executed action Interchée.Controllers.AuthController.Login (Interchée) in 156.8144ms
2025-10-03 15:50:17.771 +03:00 [INF] Executed endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:50:17.772 +03:00 [INF] HTTP POST /auth/login responded 200 in 170.5627 ms
2025-10-03 15:50:17.773 +03:00 [INF] Request finished HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 200 null application/json; charset=utf-8 177.063ms
2025-10-03 15:52:04.052 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - null null
2025-10-03 15:52:04.059 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:52:04.060 +03:00 [INF] HTTP OPTIONS /auth/login responded 204 in 1.1731 ms
2025-10-03 15:52:04.061 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 204 null null 9.6261ms
2025-10-03 15:52:05.141 +03:00 [INF] Request starting HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - application/json 51
2025-10-03 15:52:05.147 +03:00 [INF] CORS policy execution successful.
2025-10-03 15:52:05.169 +03:00 [INF] Executing endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:52:05.172 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Interchée.Contracts.Auth.AuthResultDto]] Login(Interchée.Contracts.Auth.LoginDto) on controller Interchée.Controllers.AuthController (Interchée).
2025-10-03 15:52:05.189 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-03 15:52:05.243 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-03 15:52:05.256 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__now_2='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid), @__now_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[RevokedAt] = @__now_2
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[RevokedAt] IS NULL AND [r].[ExpiresAt] > @__now_1
2025-10-03 15:52:05.264 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 512), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedByIp], [ExpiresAt], [RevokedAt], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-03 15:52:05.268 +03:00 [INF] Executing OkObjectResult, writing value of type 'Interchée.Contracts.Auth.AuthResultDto'.
2025-10-03 15:52:05.270 +03:00 [INF] Executed action Interchée.Controllers.AuthController.Login (Interchée) in 95.8477ms
2025-10-03 15:52:05.271 +03:00 [INF] Executed endpoint 'Interchée.Controllers.AuthController.Login (Interchée)'
2025-10-03 15:52:05.272 +03:00 [INF] HTTP POST /auth/login responded 200 in 124.9839 ms
2025-10-03 15:52:05.273 +03:00 [INF] Request finished HTTP/1.1 POST http://lorrie-unoperative-corrine.ngrok-free.dev/auth/login - 200 null application/json; charset=utf-8 131.5447ms
